:root {
    --primary: #2F5D4E;
    --primary-hover: #244a3e;
    --bg: #F3F4F6;
    --surface: #FFFFFF;
    --border: #E5E7EB;
    --text: #111827;
    --muted: #6B7280;
    --accent: #007A33;

    --shadow: 0 10px 18px rgba(0, 0, 0, .08);
    --shadow-soft: 0 6px 12px rgba(0, 0, 0, .06);
    --r: 14px;
}

* {
    box-sizing: border-box;
}

html,
body {
    height: 100%;
    margin: 0;
    background: var(--bg);
}

.hdPage {
    min-height: 100vh;
    background: var(--bg);
    color: var(--text);
    font-family: Inter, system-ui, -apple-system, Segoe UI, Arial, sans-serif;
}

/* ===== Mobile topbar ===== */
.hdMobileTopbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 64px;
    background: var(--primary);
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 12px;
    z-index: 50;
    box-shadow: 0 6px 14px rgba(0, 0, 0, .12);
}

.hdIconBtn {
    width: 40px;
    height: 40px;
    border: none;
    border-radius: 999px;
    background: rgba(255, 255, 255, .10);
    color: #fff;
    display: grid;
    place-items: center;
    cursor: pointer;
    position: relative;
}

.hdIconBtn:hover {
    background: rgba(255, 255, 255, .16);
}

.hdIconBtn.ghost {
    background: transparent;
}

.hdIconBtn.ghost:hover {
    background: rgba(255, 255, 255, .10);
}

.hdTopBrand {
    display: flex;
    align-items: center;
    gap: 10px;
    font-weight: 700;
}

.hdLogo {
    width: 24px;
    height: 24px;
    fill: currentColor;
}

.hdTopTitle {
    font-size: 16px;
    letter-spacing: -0.01em;
}

.hdNotifDot {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 8px;
    height: 8px;
    border-radius: 999px;
    background: #EF4444;
    border: 2px solid var(--primary);
}

/* ===== Shell ===== */
.hdShell {
    display: flex;
    min-height: 100vh;
    padding-top: 64px;
    /* topbar móvil */
}

/* Overlay */
.hdOverlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, .45);
    backdrop-filter: blur(4px);
    z-index: 40;
    opacity: 0;
    pointer-events: none;
    transition: opacity .2s ease;
}

.hdOverlay.show {
    opacity: 1;
    pointer-events: auto;
}

/* ===== Sidebar ===== */
.hdSidebar {
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    width: 288px;
    background: var(--primary);
    color: #fff;
    transform: translateX(-100%);
    transition: transform .25s ease;
    z-index: 50;
    display: flex;
    flex-direction: column;
    box-shadow: 0 18px 40px rgba(0, 0, 0, .25);
}

.hdSidebar.open {
    transform: translateX(0);
}

.hdSidebarBrand {
    padding: 20px 18px;
    display: none;
    align-items: center;
    gap: 12px;
    border-bottom: 1px solid rgba(255, 255, 255, .10);
}

.hdSidebarLogo {
    width: 32px;
    height: 32px;
    fill: currentColor;
}

.hdSidebarTitle {
    margin: 0;
    font-size: 16px;
    line-height: 1.1;
    font-weight: 800;
}

.hdSidebarMobileHead {
    padding: 14px 14px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid rgba(255, 255, 255, .10);
}

.hdSidebarMobileTitle {
    font-weight: 700;
}

.hdNav {
    padding: 16px 10px;
    display: flex;
    flex-direction: column;
    gap: 6px;
    overflow: auto;
}

.hdNavItem {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 14px;
    border-radius: 12px;
    color: rgba(255, 255, 255, .82);
    text-decoration: none;
    font-weight: 600;
}

.hdNavItem:hover {
    background: rgba(255, 255, 255, .10);
    color: #fff;
}

.hdNavItem.active {
    background: rgba(255, 255, 255, .20);
    color: #fff;
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, .10);
}

.hdNavDivider {
    height: 1px;
    background: rgba(255, 255, 255, .10);
    margin: 10px 6px;
}

.hdSidebarFooter {
    margin-top: auto;
    padding: 14px 16px;
    border-top: 1px solid rgba(255, 255, 255, .10);
    font-size: 12px;
    color: rgba(255, 255, 255, .55);
    text-align: center;
}

/* ===== Main ===== */
.hdMain {
    flex: 1;
    width: 100%;
    padding: 16px;
    overflow-x: hidden;
}

/* Desktop header hidden in mobile */
.hdDesktopHeader {
    display: none;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 22px;
}

.hdBreadcrumb {
    display: flex;
    align-items: center;
    gap: 8px;
    color: var(--muted);
    font-size: 13px;
}

.hdBreadcrumb .material-icons-outlined {
    font-size: 18px;
}

.hdBreadcrumbStrong {
    font-weight: 700;
    color: var(--text);
}

.hdUser {
    display: flex;
    align-items: center;
    gap: 12px;
}

.hdUserInfo {
    text-align: right;
}

.hdUserName {
    font-weight: 800;
}

.hdUserRole {
    font-size: 12px;
    color: var(--muted);
}

.hdUserAvatar {
    width: 40px;
    height: 40px;
    border-radius: 999px;
    background: #D1FAE5;
    color: var(--primary);
    display: grid;
    place-items: center;
    font-weight: 900;
}

/* Mobile header */
.hdMobileHeader {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    gap: 12px;
    margin: 8px 0 18px;
}

.hdTitle {
    margin: 0;
    font-size: 26px;
    font-weight: 900;
}

.hdSubtitle {
    margin: 6px 0 0;
    color: var(--muted);
    font-size: 13px;
}

.hdStatus {
    text-align: right;
}

.hdStatusLabel {
    display: block;
    font-size: 11px;
    color: #9CA3AF;
    margin-bottom: 6px;
}

.hdStatusPill {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 4px 10px;
    border-radius: 999px;
    font-size: 12px;
    font-weight: 700;
    background: #DCFCE7;
    color: #166534;
    border: 1px solid #BBF7D0;
}

.hdStatusDot {
    width: 8px;
    height: 8px;
    border-radius: 999px;
    background: #22C55E;
}

/* Stats */
.hdStats {
    display: grid;
    grid-template-columns: 1fr;
    gap: 12px;
    margin-bottom: 18px;
}

.hdStatCard {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--r);
    box-shadow: var(--shadow-soft);
    padding: 14px;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 12px;
}

.hdStatTitle {
    font-size: 13px;
    color: var(--muted);
    font-weight: 600;
}

.hdStatValue {
    margin-top: 6px;
    font-size: 26px;
    font-weight: 900;
}

.hdStatNote {
    margin-top: 6px;
    font-size: 12px;
    color: #9CA3AF;
    display: flex;
    align-items: center;
    gap: 6px;
}

.hdStatNote.green {
    color: #16A34A;
}

.hdStatNote.red {
    color: #EF4444;
}

.hdStatNote.blue {
    color: #2563EB;
}

.hdStatIcon {
    width: 40px;
    height: 40px;
    border-radius: 12px;
    display: grid;
    place-items: center;
}

.hdStatIcon .material-icons-outlined {
    font-size: 22px;
}

.hdStatIcon.blue {
    background: #DBEAFE;
    color: #2563EB;
}

.hdStatIcon.green {
    background: #D1FAE5;
    color: #059669;
}

.hdStatIcon.red {
    background: #FEE2E2;
    color: #DC2626;
}

/* Calendar card */
.hdCalendarCard {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--r);
    box-shadow: var(--shadow-soft);
    overflow: hidden;
    margin-top: 2vh;
}

.hdCalendarTop {
    padding: 14px;
    border-bottom: 1px solid var(--border);
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.hdMonthPicker {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    background: #F3F4F6;
    border-radius: 12px;
    padding: 6px;
    width: fit-content;
}

.hdMiniBtn {
    width: 28px;
    height: 28px;
    border: none;
    background: #fff;
    border-radius: 10px;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0, 0, 0, .06);
    display: grid;
    place-items: center;
    color: #6B7280;
}

.hdMiniBtn:hover {
    background: #F9FAFB;
}

.hdMonthLabel {
    font-weight: 800;
    color: #374151;
    font-size: 13px;
    padding: 0 6px;
}

/* Alineación y mismo tamaño para los 3 botones del header del calendario */
.hdActions {
    display: flex;
    gap: 14px;
    align-items: stretch;
    justify-content: flex-end;
}

.hdBtn {
    border: none;
    border-radius: 12px;
    padding: 10px 12px;
    font-weight: 700;
    font-size: 13px;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 5vh;
}

.hdBtn.light {
    background: rgba(47, 93, 78, .10);
    color: var(--primary);
    border: 1px solid rgba(47, 93, 78, .18);
}

.hdBtn.light:hover {
    background: rgba(47, 93, 78, .16);
}

.hdBtn.primary {
    background: var(--primary);
    color: #fff;
    box-shadow: 0 8px 14px rgba(0, 0, 0, .10);
}

.hdBtn.primary:hover {
    background: var(--primary-hover);
}

.hdBtn .material-icons-outlined {
    font-size: 18px;
}

.hideOnMobile {
    display: none;
}

.showOnMobile {
    display: inline;
}

/* Tamaño “más pequeño” para los 3 botones */
.hdBtnSm {
    height: 54px;
    /* antes 86px */
    padding: 12px 14px;
    border-radius: 16px;
    gap: 10px;
    font-weight: 700;
    justify-content: center;
}

/* Variante secundaria (para Importar Excel) */
.hdBtn.secondary {
    background: #2f4a40;
    /* secundario oscuro */
    color: #fff;
    border: 1px solid rgba(255, 255, 255, .10);
}

.hdBtn.secondary:hover {
    filter: brightness(1.05);
}

.hdBtn.secondary .material-icons-outlined,
.hdBtn.secondary .material-icons {
    color: inherit;
}

/* Si en móvil quieres aún más bajito */
@media (max-width: 700px) {
    .hdBtnSm {
        height: 48px;
        border-radius: 14px;
    }
}

/* Calendar */
.hdCalendar {
    width: 100%;
    overflow-x: auto;
}

.hdCalendarHeader {
    display: grid;
    grid-template-columns: repeat(7, minmax(90px, 1fr));
    background: #F9FAFB;
    border-bottom: 1px solid var(--border);
}

.hdDow {
    padding: 10px 0;
    text-align: center;
    font-size: 12px;
    color: #6B7280;
    font-weight: 800;
    text-transform: uppercase;
}

.hdCalendarGrid {
    display: grid;
    grid-template-columns: repeat(7, minmax(90px, 1fr));
    background: #E5E7EB;
    gap: 1px;
    border-bottom: 1px solid var(--border);
}

.hdCell {
    background: var(--surface);
    min-height: 105px;
    padding: 6px;
    position: relative;
    cursor: pointer;
    transition: background .15s ease;
}

.hdCell:hover {
    background: #FAFAFA;
}

.hdCell.off {
    opacity: .55;
    cursor: default;
}

.hdCell.highlight .hdCellDay {
    background: var(--primary);
    color: #fff;
    width: 22px;
    height: 22px;
    border-radius: 999px;
    display: inline-grid;
    place-items: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, .12);
}

.hdCellDay {
    font-size: 12px;
    font-weight: 800;
    color: #374151;
    padding: 2px 4px;
    display: inline-block;
}

.hdEvents {
    margin-top: 6px;
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.hdEvent {
    font-size: 11px;
    border-radius: 8px;
    padding: 4px 6px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.hdEventType {
    font-weight: 900;
}

.hdEvent.ca {
    background: #DCFCE7;
    color: #166534;
    border: 1px solid #BBF7D0;
}

.hdEvent.pf {
    background: var(--primary);
    color: #fff;
    box-shadow: 0 2px 8px rgba(0, 0, 0, .08);
}

.hdEvent.loc {
    background: #F3F4F6;
    color: #4B5563;
    border: 1px solid #E5E7EB;
}

.hdJefe {
    position: absolute;
    right: 6px;
    bottom: 6px;
    color: #F59E0B;
}

.hdJefe .material-icons-outlined {
    font-size: 16px;
}

.hdLegendCard {
    margin-top: 16px;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--r);
    box-shadow: var(--shadow-soft);
    padding: 14px;
}

.hdLegendTitle {
    margin: 0 0 10px;
    font-size: 12px;
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: .08em;
    color: #6B7280;
}

.hdLegendGrid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 10px;
}

.hdLegendItem {
    display: flex;
    align-items: center;
    gap: 10px;
    color: #4B5563;
    font-weight: 600;
}

.dot {
    width: 10px;
    height: 10px;
    border-radius: 999px;
    display: inline-block;
}

.dot.ca {
    background: #BBF7D0;
    border: 2px solid #16A34A;
}

.dot.pf {
    background: var(--primary);
    border: 2px solid var(--primary);
}

.dot.loc {
    background: #E5E7EB;
    border: 2px solid #6B7280;
}

.amber {
    color: #F59E0B;
}

/* ===== Desktop behavior ===== */
@media (min-width: 1024px) {
    .hdMobileTopbar {
        display: none;
    }

    .hdShell {
        padding-top: 0;
    }

    .hdOverlay {
        display: none;
    }

    .hdSidebar {
        position: static;
        transform: none;
        box-shadow: none;
    }

    .hdSidebarBrand {
        display: flex;
    }

    .hdSidebarMobileHead {
        display: none;
    }

    .hdMain {
        padding: 28px;
    }

    .hdDesktopHeader {
        display: flex;
    }

    .hdMobileHeader {
        display: none;
    }

    .hdStats {
        grid-template-columns: repeat(3, 1fr);
    }

    .hdCalendarTop {
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
    }

    .hideOnMobile {
        display: inline;
    }

    .showOnMobile {
        display: none;
    }

    .hdLegendGrid {
        grid-template-columns: repeat(4, 1fr);
    }
}

/* Evita que el CSS viejo del HomeDashboard cree otro layout */
.hdPage,
.hdShell,
.hdSidebar,
.hdMobileTopbar,
.hdOverlay {
    display: none !important;
}

/* Nuevo wrapper del contenido dentro del AppLayout */
.hdContent {
    padding: 16px;
}

/* En escritorio, un poco más de aire */
@media (min-width: 1024px) {
    .hdContent {
        padding: 28px;
    }
}


/* Wrapper para que no se desborde */
.hdFullCalendarWrap {
    width: 100%;
}

/* Ajustes generales */
.fc {
    font-family: inherit;
}

/* Celdas más limpias */
.fc .fc-daygrid-day-frame {
    padding: 6px;
}

/* Chips tipo CA/PF/LOC */
.hdFcChip {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    border-radius: 8px;
    padding: 4px 6px;
    font-size: 11px;
    font-weight: 800;
    line-height: 1.1;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: 100%;
}

/* Colores aproximados a tu diseño */
.hdFcChip.CA {
    background: rgba(0, 112, 65, 0.12);
    color: #0b5a35;
    border: 1px solid rgba(0, 112, 65, 0.25);
}

.hdFcChip.PF {
    background: rgba(47, 93, 78, 0.15);
    color: #244a3e;
    border: 1px solid rgba(47, 93, 78, 0.25);
}

.hdFcChip.LOC {
    background: rgba(107, 114, 128, 0.16);
    color: #374151;
    border: 1px solid rgba(107, 114, 128, 0.25);
}

.hdFcChipText {
    min-width: 0;
    /* CLAVE para que elipsis funcione en flex */
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}

/* Icono de jefe dentro del chip */
.hdFcJefe {
    font-size: 14px;
    opacity: 0.9;
}


/* ===== FullCalendar (HomeDashboard) ===== */
.hdFullCalendarWrap .fc {
    font-family: inherit;
    color: #111827;
}

/* Barra superior dentro de la card */
.hdFullCalendarWrap .fc .fc-toolbar {
    margin: 10px 0 12px;
    gap: 10px;
}

.hdFullCalendarWrap .fc .fc-toolbar-title {
    font-size: 16px;
    font-weight: 800;
    text-transform: capitalize;
    /* “abril 2024” */
    color: #1f2937;
}

/* Botones prev/next estilo “pill” */
.hdFullCalendarWrap .fc .fc-button {
    border: 1px solid rgba(17, 24, 39, 0.12) !important;
    background: #f3f4f6 !important;
    color: #1f2937 !important;
    box-shadow: none !important;
    border-radius: 12px !important;
    padding: 6px 10px !important;
}

.hdFullCalendarWrap .fc .fc-button:hover {
    background: #e5e7eb !important;
}

.hdFullCalendarWrap .fc .fc-button:focus {
    box-shadow: 0 0 0 3px rgba(0, 112, 65, 0.18) !important;
}

.hdFullCalendarWrap .fc .fc-button-active {
    background: rgba(0, 112, 65, 0.12) !important;
    border-color: rgba(0, 112, 65, 0.25) !important;
    color: #0b5a35 !important;
}

/* Cabecera de días (lun, mar, ...) */
.hdFullCalendarWrap .fc .fc-col-header-cell-cushion {
    font-size: 12px;
    font-weight: 800;
    text-transform: uppercase;
    color: #6b7280;
    padding: 10px 0;
}

/* Grid */
.hdFullCalendarWrap .fc .fc-scrollgrid {
    border: 1px solid rgba(17, 24, 39, 0.10);
    border-radius: 14px;
    overflow: hidden;
}

.hdFullCalendarWrap .fc .fc-daygrid-day-frame {
    padding: 8px;
    background: #ffffff;
}

.hdFullCalendarWrap .fc .fc-daygrid-day-number {
    font-size: 12px;
    font-weight: 700;
    color: #374151;
}

/* Hoy (highlight suave verde) */
.hdFullCalendarWrap .fc .fc-day-today {
    background: rgba(0, 112, 65, 0.06) !important;
}

/* Quita el estilo azul default de eventos */
.hdFullCalendarWrap .fc .fc-daygrid-event,
.hdFullCalendarWrap .fc .fc-event {
    background: transparent !important;
    border: none !important;
    padding: 0 !important;
    margin: 2px 0 !important;
}

/* ===== Chips CA / PF / LOC (tu estilo) ===== */
.hdFcChip {
    display: flex;
    align-items: center;
    gap: 6px;
    border-radius: 10px;
    padding: 4px 8px;
    font-size: 11px;
    font-weight: 800;
    line-height: 1.1;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}

.hdFcChipText {
    flex: 1;
    min-width: 0;
}

/* Verde Junta */
.hdFcChip.CA {
    background: rgba(0, 112, 65, 0.12);
    color: #0b5a35;
    border: 1px solid rgba(0, 112, 65, 0.25);
}

.hdFcChip.PF {
    background: rgba(47, 93, 78, 0.14);
    color: #244a3e;
    border: 1px solid rgba(47, 93, 78, 0.25);
}

.hdFcChip.LOC {
    background: rgba(107, 114, 128, 0.14);
    color: #374151;
    border: 1px solid rgba(107, 114, 128, 0.25);
}

.hdFcJefe {
    font-size: 14px;
    opacity: 0.85;
    color: #b45309;
    /* ámbar suave */
}


/* ===== Filtros dropdown ===== */
.hdFilterMenu {
    position: absolute;
    top: 46px;
    right: 120px;
    /* ajusta si lo quieres pegado al botón */
    width: 220px;
    background: #fff;
    border: 1px solid rgba(17, 24, 39, 0.12);
    border-radius: 12px;
    box-shadow: 0 14px 35px rgba(0, 0, 0, 0.12);
    padding: 6px;
    z-index: 20;
}

.hdFilterItem {
    width: 100%;
    text-align: left;
    padding: 10px 10px;
    border-radius: 10px;
    border: 0;
    background: transparent;
    font-weight: 700;
    font-size: 13px;
    color: #1f2937;
    cursor: pointer;
}

.hdFilterItem:hover {
    background: rgba(0, 112, 65, 0.08);
}

.hdFilterItem.active {
    background: rgba(0, 112, 65, 0.12);
    color: #0b5a35;
}


/* ===== Modal Nueva Guardia ===== */

.cdActions {
    margin-top: 2vh;
}


.hdModalOverlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, .55);
    z-index: 9999;
    /* mayor que el header */
    display: grid;
    place-items: center;
}

.hdModalCard {
    width: min(520px, 100%);
    background: #fff;
    border-radius: 16px;
    border: 1px solid rgba(17, 24, 39, 0.12);
    box-shadow: 0 18px 50px rgba(0, 0, 0, 0.22);
    overflow: hidden;
}

.hdModalHead {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 14px 16px;
    border-bottom: 1px solid rgba(17, 24, 39, 0.08);
}

.hdModalTitle {
    font-size: 16px;
    font-weight: 900;
    color: #1f2937;
}

.hdModalClose {
    border: 0;
    background: transparent;
    cursor: pointer;
    padding: 6px;
    border-radius: 10px;
}

.hdModalClose:hover {
    background: rgba(0, 0, 0, 0.06);
}

.hdModalBody {
    padding: 14px 16px;
    display: grid;
    gap: 12px;
}

.hdField {
    display: grid;
    gap: 6px;
    font-size: 13px;
    font-weight: 800;
    color: #374151;
}

.hdControl {
    border: 1px solid rgba(17, 24, 39, 0.14);
    border-radius: 12px;
    padding: 10px 12px;
    font-weight: 700;
    outline: none;
}

.hdControl:focus {
    border-color: rgba(0, 112, 65, 0.45);
    box-shadow: 0 0 0 4px rgba(0, 112, 65, 0.14);
}

.hdModalFooter {
    padding: 14px 16px;
    border-top: 1px solid rgba(17, 24, 39, 0.08);
    display: flex;
    justify-content: flex-end;
    gap: 10px;
}




@keyframes hdReveal {
    from {
        opacity: 0;
        clip-path: inset(0 0 100% 0);
    }

    to {
        opacity: 1;
        clip-path: inset(0 0 0 0);
    }
}

/* Día de hoy: fondo suave + borde */
.hdTodayCell {
    background: rgba(22, 163, 74, 0.10);
    box-shadow: inset 0 0 0 5px rgba(22, 163, 74, 0.25);
}

/* Para que se note bien incluso con el grid de FullCalendar */
.hdTodayCell .fc-daygrid-day-frame {
    border-radius: 20px;
}



.hdStats .hdStatCard {
    opacity: 0;
    transform: translateY(10px);
    animation: hdReveal .4s ease-out both;
}

.hdStats .hdStatCard:nth-child(1) {
    animation-delay: .05s;
}

.hdStats .hdStatCard:nth-child(2) {
    animation-delay: .12s;
}

.hdStats .hdStatCard:nth-child(3) {
    animation-delay: .19s;
}

/* ===== SEARCH OVERRIDES (PEGAR AL FINAL) ===== */

.hdSearchWrap {
    flex: 1 !important;
    /* ✅ ya no se estira infinito */
    min-width: 260px !important;
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
}

.hdSearchWrap .hdSearch {
    position: relative !important;
    width: 80% !important;
    max-width: 420px !important;
    /* ✅ menos ancho */
}

/* input (gana a cualquier regla duplicada) */
.hdSearchWrap .hdSearchInput {
    width: 100% !important;
    height: 44px !important;
    padding: 0 44px 0 44px !important;
    /* ✅ hueco para lupa y X */
    border-radius: 999px !important;
    border: 1px solid rgba(0, 0, 0, .10) !important;
    background: rgba(255, 255, 255, .85) !important;
    backdrop-filter: blur(8px) !important;
    outline: none !important;
    font-size: 14px !important;
    box-sizing: border-box !important;
}

.hdSearchWrap .hdSearchInput:focus {
    border-color: rgba(46, 125, 77, .35) !important;
    box-shadow: 0 0 0 3px rgba(46, 125, 77, .12) !important;
}

/* lupa izquierda (forzada dentro del input) */
.hdSearchWrap .hdSearchIcon {
    position: absolute !important;
    left: 14px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    font-size: 20px !important;
    color: rgba(31, 41, 55, .55) !important;
    opacity: 1 !important;
    pointer-events: none !important;
    display: block !important;
    z-index: 2 !important;
}

/* botón limpiar derecha (dentro del input) */
.hdSearchWrap .hdSearchClear {
    position: absolute !important;
    right: 8px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    height: 34px !important;
    width: 34px !important;
    display: grid !important;
    place-items: center !important;
    border: none !important;
    background: transparent !important;
    cursor: pointer !important;
    opacity: .75 !important;
    border-radius: 999px !important;
    z-index: 3 !important;
}

.hdSearchWrap .hdSearchClear:hover {
    background: rgba(0, 0, 0, .06) !important;
    opacity: 1 !important;
}

/* =========================
   TOP BAR MOBILE (PRO)
   ========================= */
@media (max-width: 768px) {

    /* Asegura layout tipo app */
    .hdCalendarTop {
        display: flex !important;
        flex-direction: column !important;
        align-items: stretch !important;
        gap: 12px !important;
    }

    /* 1) Mes arriba */
    .hdMonthPicker {
        order: 1 !important;
        width: 100% !important;
        justify-content: flex-start !important;
    }

    /* 2) Acciones en columna (pero dentro ordenamos) */
    .hdActions {
        order: 2 !important;
        width: 100% !important;

        display: flex !important;
        flex-wrap: wrap !important;
        gap: 10px !important;
        align-items: center !important;
        justify-content: space-between !important;
    }

    /* 2a) Buscador: SIEMPRE debajo del mes, 100% */
    .hdSearchWrap {
        order: 1 !important;
        width: 100% !important;
        flex: 0 0 100% !important;
        min-width: 0 !important;
        justify-content: stretch !important;
    }

    .hdSearchWrap .hdSearch {
        width: 100% !important;
        max-width: 100% !important;
    }

    .hdSearchWrap .hdSearchInput {
        width: 100% !important;
        height: 44px !important;
        border-radius: 14px !important;
        /* look app */
        font-size: 15px !important;
        padding-left: 44px !important;
    }

    .hdSearchWrap .hdSearchIcon {
        left: 14px !important;
    }

    /* 3) Botones: fila de 3 columnas iguales */
    .hdActions>button.hdBtn {
        order: 2 !important;
        flex: 1 1 calc(33.333% - 7px) !important;
        min-width: 0 !important;
        height: 44px !important;
        border-radius: 14px !important;
        justify-content: center !important;
        padding: 0 12px !important;
        gap: 8px !important;
    }

    /* Evita que el texto se coma el icono */
    .hdActions>button.hdBtn span {
        white-space: nowrap !important;
    }

    /* Si tienes versiones cortas en móvil */
    .hideOnMobile {
        display: none !important;
    }

    .showOnMobile {
        display: inline !important;
    }

    /* Si algún botón se ve “aplastado”, reducimos el icono un pelín */
    .hdActions>button.hdBtn .material-icons-outlined {
        font-size: 20px !important;
    }
}


/* Modal detalle guardia: responsive pro */
.hdDutyModalCard {
    width: min(560px, 92vw);
    max-height: min(70vh, 560px);
    overflow: auto;
}

.hdDutyDetailTitle {
    font-weight: 800;
    font-size: 16px;
    margin-bottom: 12px;
}

.hdDutyDetailGrid {
    display: grid;
    gap: 10px;
}

.hdDutyRow {
    display: grid;
    grid-template-columns: 160px 1fr;
    gap: 12px;
    align-items: start;
}

.hdDutyKey {
    font-size: 12px;
    font-weight: 700;
    opacity: 0.65;
}

.hdDutyVal {
    font-size: 14px;
    font-weight: 600;
    word-break: break-word;
}

/* Móvil */
@media (max-width: 600px) {
    .hdDutyModalCard {
        width: 94vw;
        max-height: 78vh;
    }

    .hdDutyRow {
        grid-template-columns: 1fr;
        gap: 4px;
    }

    .hdDutyKey {
        font-size: 11px;
    }
}

/* =========================
   FIX VISIBILIDAD MODAL DETALLE (MÁS BRILLO / SIN TRANSPARENCIA)
   PEGAR AL FINAL
   ========================= */

/* Overlay un pelín menos agresivo para que el modal destaque */
.hdModalOverlay {
    background: rgba(0, 0, 0, .45) !important;
    backdrop-filter: blur(6px) !important;
}

/* Card del modal detalle: más “panel” y sombra pro */
.hdModalCard.hdDutyModalCard {
    border-radius: 18px !important;
    box-shadow: 0 24px 70px rgba(0, 0, 0, .35) !important;
    border: 1px solid rgba(17, 24, 39, .10) !important;
}

/* Header y footer heredan el fondo y se ven limpios */
.hdModalCard.hdDutyModalCard .hdModalHead,
.hdModalCard.hdDutyModalCard .hdModalFooter {
    background: inherit !important;
}

/* Texto: más contraste por defecto */
.hdModalCard.hdDutyModalCard .hdModalTitle {
    color: inherit !important;
}

/* Botón X con buen contraste */
.hdModalCard.hdDutyModalCard .hdModalClose {
    color: inherit !important;
    opacity: .9;
}

.hdModalCard.hdDutyModalCard .hdModalClose:hover {
    background: rgba(255, 255, 255, .25) !important;
}

/* ====== COLORES SÓLIDOS por tipo (igual lógica que chip, pero SIN alpha) ====== */

/* CA: verde suave sólido + brillo */
.hdModalCard.hdDutyModalCard.CA {
    background: #E9F6EF !important;
    /* sólido */
    color: #0B5A35 !important;
    border: 1px solid rgba(0, 112, 65, .22) !important;
    box-shadow:
        0 24px 70px rgba(0, 0, 0, .35),
        inset 0 1px 0 rgba(255, 255, 255, .75) !important;
    /* brillo */
}

/* PF: tu primary en versión panel sólida */
.hdModalCard.hdDutyModalCard.PF {
    background: #E7F0EC !important;
    /* sólido */
    color: #244A3E !important;
    border: 1px solid rgba(47, 93, 78, .22) !important;
    box-shadow:
        0 24px 70px rgba(0, 0, 0, .35),
        inset 0 1px 0 rgba(255, 255, 255, .75) !important;
}

/* LOC: gris sólido */
.hdModalCard.hdDutyModalCard.LOC {
    background: #EEF0F3 !important;
    /* sólido */
    color: #374151 !important;
    border: 1px solid rgba(107, 114, 128, .22) !important;
    box-shadow:
        0 24px 70px rgba(0, 0, 0, .35),
        inset 0 1px 0 rgba(255, 255, 255, .75) !important;
}

/* Labels y valores con mejor legibilidad */
.hdModalCard.hdDutyModalCard .hdDutyKey {
    opacity: .75 !important;
    color: inherit !important;
}

.hdModalCard.hdDutyModalCard .hdDutyVal {
    color: inherit !important;
    font-weight: 800 !important;
}

/* Botón “Cerrar” que combine con el tipo */
.hdModalCard.hdDutyModalCard .hdBtn.light {
    background: rgba(255, 255, 255, .65) !important;
    border: 1px solid rgba(17, 24, 39, .10) !important;
    color: inherit !important;
}

.hdModalCard.hdDutyModalCard .hdBtn.light:hover {
    background: rgba(255, 255, 255, .80) !important;
}

/* Móvil: ocupa casi todo y se lee perfecto */
@media (max-width: 600px) {
    .hdModalCard.hdDutyModalCard {
        width: 94vw !important;
        max-height: 80vh !important;
    }
}

/*  chips ultra-compactos en móvil para que punto + jefe no rompa */
@media (max-width: 600px) {
    .hdFcChip {
        padding: 3px 6px;
        border-radius: 12px;
        gap: 6px;
    }

    .hdFcChip .dot {
        width: 9px;
        height: 9px;
    }

    .hdFcJefe {
        font-size: 13px !important;
        line-height: 1 !important;
    }
}

/* =========================
   MOBILE: month picker full width + centrado pro
   ========================= */
@media (max-width: 768px) {
    .hdMonthPicker {
        width: 100% !important;
        justify-content: center !important;
        gap: 10px !important;
        padding: 8px 10px !important;
    }

    .hdMonthLabel {
        flex: 1 !important;
        text-align: center !important;
        padding: 0 !important;
        font-size: 14px !important;
        white-space: nowrap !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
    }

    .hdMiniBtn {
        flex: 0 0 40px !important;
        width: 40px !important;
        height: 40px !important;
        border-radius: 14px !important;
    }
}

/* =========================
   CHIPS PRO: móvil compacto + jefe como badge (no ocupa ancho)
   ========================= */
.hdFcChip {
    position: relative;
}

/* En móvil: chip más compacto y texto más corto */
@media (max-width: 600px) {
    .hdFcChip {
        padding: 4px 8px !important;
        border-radius: 999px !important;
        gap: 6px !important;
        max-width: 100% !important;
    }

    /* El punto un pelín más pequeño */
    .hdFcChip .dot {
        width: 9px !important;
        height: 9px !important;
        flex: 0 0 auto !important;
    }

    /* En móvil el texto será CA/PF/LOC -> que se vea “pill” */
    .hdFcChipText {
        font-size: 11px !important;
        font-weight: 900 !important;
        letter-spacing: .02em !important;
    }

    /* Si es jefe, dejamos espacio para el badge */
    .hdFcChip.isJefe {
        padding-right: 26px !important;
    }

    /* Jefe como badge flotante: no rompe el layout */
    .hdFcChip.isJefe .hdFcJefe {
        position: absolute !important;
        right: 6px !important;
        top: 50% !important;
        transform: translateY(-50%) !important;

        width: 18px !important;
        height: 18px !important;
        display: grid !important;
        place-items: center !important;

        font-size: 14px !important;
        line-height: 1 !important;

        border-radius: 999px !important;
        background: rgba(255, 255, 255, .70) !important;
        border: 1px solid rgba(180, 83, 9, .25) !important;
        color: #b45309 !important;
        opacity: 1 !important;
    }
}

/* En desktop dejamos el jefe inline normal */
@media (min-width: 601px) {
    .hdFcChip.isJefe .hdFcJefe {
        position: static !important;
        transform: none !important;
        width: auto !important;
        height: auto !important;
        background: transparent !important;
        border: 0 !important;
    }
}

/* Móvil: chip compacto y jefe como “badge” único (no se mezcla con el dot) */
@media (max-width: 600px) {
    .hdFcChip {
        border-radius: 999px !important;
        padding: 4px 10px !important;
        gap: 8px !important;
    }

    /* Dot consistente */
    .hdFcChip .dot {
        width: 9px !important;
        height: 9px !important;
        flex: 0 0 auto !important;
    }

    /* Texto: C/P/L centrado y con peso */
    .hdFcChipText {
        font-weight: 900 !important;
        font-size: 12px !important;
        line-height: 1 !important;
    }

    /* Cuando es jefe: dejamos espacio al badge */
    .hdFcChip.isJefe {
        padding-right: 30px !important;
    }

    /* Badge del jefe (único icono visual a la derecha) */
    .hdFcChip.isJefe .hdFcJefe {
        position: absolute !important;
        right: 7px !important;
        top: 50% !important;
        transform: translateY(-50%) !important;

        width: 20px !important;
        height: 20px !important;
        display: grid !important;
        place-items: center !important;

        border-radius: 999px !important;
        background: rgba(255, 255, 255, .85) !important;
        border: 1px solid rgba(180, 83, 9, .25) !important;

        font-size: 15px !important;
        line-height: 1 !important;
        color: #b45309 !important;
        opacity: 1 !important;
    }
}

/* ✅ MÓVIL: chips centrados (dot y letra centrados), jefe a la derecha como badge */
@media (max-width: 600px) {

    /* El chip se comporta como “badge” centrado */
    .hdFullCalendarWrap .hdFcChip {
        position: relative !important;
        justify-content: center !important;
        /* ✅ centra contenido */
        gap: 8px !important;
        padding: 4px 12px !important;
        border-radius: 999px !important;
    }

    /* El texto (C/P/L) centrado */
    .hdFullCalendarWrap .hdFcChipText {
        flex: 0 0 auto !important;
        /* ✅ no se estira */
        min-width: auto !important;
        text-align: center !important;
        font-weight: 900 !important;
    }

    /* El dot no empuja el layout: queda al lado del texto, centrado */
    .hdFullCalendarWrap .hdFcChip .dot {
        flex: 0 0 auto !important;
        margin: 0 !important;
    }

    /* Si es jefe: reservamos hueco a la derecha para el badge */
    .hdFullCalendarWrap .hdFcChip.isJefe {
        padding-right: 34px !important;
        /* ✅ espacio para el escudo */
    }

    /* Badge del jefe fijo a la derecha (sin mover el centro) */
    .hdFullCalendarWrap .hdFcChip.isJefe .hdFcJefe {
        position: absolute !important;
        right: 7px !important;
        top: 50% !important;
        transform: translateY(-50%) !important;
    }
}

/* ✅ MÓVIL: centrar los eventos dentro del día (especialmente los que tienen jefe) */
@media (max-width: 600px) {

    /* Cada evento (wrapper de FullCalendar) centrado */
    .hdFullCalendarWrap .fc .fc-daygrid-event-harness {
        display: flex !important;
        justify-content: center !important;
    }

    /* El enlace del evento ocupa “auto” (no 100%) para poder centrarse */
    .hdFullCalendarWrap .fc .fc-daygrid-event {
        width: auto !important;
    }

    /* Por si FC envuelve con otro contenedor */
    .hdFullCalendarWrap .fc .fc-event-main {
        display: flex !important;
        justify-content: center !important;
    }
}

/* MÓVIL: un poco más de aire lateral SOLO en chips que tienen jefe */
@media (max-width: 600px) {
  /* Si el chip contiene el icono de jefe */
  .hdFullCalendarWrap .hdFcChip:has(.hdFcJefe) {
    padding-left: 10px !important;
    padding-right: 10px !important;
  }

  /* Y un pelín de separación entre el punto (tipo) y el icono de jefe */
  .hdFullCalendarWrap .hdFcChip:has(.hdFcJefe) .hdFcJefe {
    margin-left: 4px !important;
  }
}

@media (max-width: 600px) {
  /* chips con jefe: un poco más de aire lateral */
  .hdFullCalendarWrap .hdFcChip.hasChief {
    padding-left: 75% !important;
    padding-right: 75% !important;
  }

  /* separación entre punto de tipo y el escudo */
  .hdFullCalendarWrap .hdFcChip.hasChief .hdFcJefe {
    margin-left: 50% !important;
  }
}